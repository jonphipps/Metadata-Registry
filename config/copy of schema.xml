<?xml version="1.0" encoding="utf-8"?>
<!--Autogenerated by CreoleToXMLSchema!-->
<database name="propel">

    <table name="reg_agent" phpName="Agent" idMethod="native">
        <column name="id" type="INTEGER" required="true" autoIncrement="true" primaryKey="true"> </column>
        <column name="created_at" type="TIMESTAMP"> </column>
        <column name="last_updated" type="TIMESTAMP"> </column>
        <column name="org_email" type="VARCHAR" size="100"> </column>
        <column name="org_name" type="VARCHAR" size="255"> </column>
        <column name="ind_affiliation" type="VARCHAR" size="255"> </column>
        <column name="ind_role" type="VARCHAR" size="45"> </column>
        <column name="address1" type="VARCHAR" size="255"> </column>
        <column name="address2" type="VARCHAR" size="255"> </column>
        <column name="city" type="VARCHAR" size="45"> </column>
        <column name="state" type="CHAR" size="2"> </column>
        <column name="postal_code" type="VARCHAR" size="15"> </column>
        <column name="country" type="CHAR" size="3"> </column>
        <column name="phone" type="VARCHAR" size="45"> </column>
        <column name="web_address" type="VARCHAR" size="255"> </column>
        <column name="type" type="VARCHAR" size="15"/>
    </table>

    <table name="reg_agent_has_user" phpName="AgentHasUser">
        <column name="user_id" type="INTEGER" required="true" primaryKey="true" default=""> </column>
        <column name="agent_id" type="INTEGER" required="true" primaryKey="true" default="0"> </column>
        <column name="is_registrar_for" type="TINYINT"> </column>
        <foreign-key foreignTable="reg_user" onDelete="RESTRICT" onUpdate="RESTRICT">
            <reference local="user_id" foreign="id"/>
        </foreign-key>
        <foreign-key foreignTable="reg_agent" onDelete="RESTRICT" onUpdate="RESTRICT">
            <reference local="agent_id" foreign="id"/>
        </foreign-key>
    </table>

    <table name="reg_user" phpName="User" idMethod="native">
        <column name="id" type="INTEGER" required="true" autoIncrement="true" primaryKey="true"> </column>
        <column name="created_at" type="TIMESTAMP"> </column>
        <column name="last_updated" type="TIMESTAMP"> </column>
        <column name="nickname" type="VARCHAR" size="50"> </column>
        <column name="salutation" type="VARCHAR" size="5"> </column>
        <column name="first_name" type="VARCHAR" size="100"> </column>
        <column name="last_name" type="VARCHAR" size="100"> </column>
        <column name="email" type="VARCHAR" size="100"> </column>
        <column name="sha1_password" type="VARCHAR" size="40"> </column>
        <column name="password" type="VARCHAR" size="40"> </column>
        <column name="salt" type="VARCHAR" size="32"> </column>
        <column name="want_to_be_moderator" type="TINYINT" required="true" default="0"> </column>
        <column name="is_moderator" type="TINYINT" required="true" default="0"> </column>
        <column name="is_administrator" type="TINYINT" required="true" default="0"> </column>
        <column name="deletions" type="INTEGER" default="0"> </column>
    </table>

    <table name="reg_vocabulary" phpName="Vocabulary" idMethod="native">
        <column name="id" type="INTEGER" required="true" autoIncrement="true" primaryKey="true"> </column>
        <column name="created_at" type="TIMESTAMP"> </column>
        <column name="last_updated" type="TIMESTAMP"> </column>
        <column name="agent_id" type="INTEGER"> </column>
        <column name="name" type="VARCHAR" size="255"> </column>
        <column name="note" type="LONGVARCHAR"> </column>
        <column name="uri" type="VARCHAR" size="255"> </column>
        <column name="url" type="VARCHAR" size="255"> </column>
        <column name="base_domain" type="VARCHAR" size="255"> </column>
        <column name="token" type="VARCHAR" size="45"> </column>
        <column name="community" type="VARCHAR" size="45"> </column>
        <foreign-key foreignTable="reg_agent" onDelete="RESTRICT" onUpdate="RESTRICT">
            <reference local="agent_id" foreign="id"/>
        </foreign-key>
    </table>

    <table name="reg_vocabulary_has_user" phpName="VocabularyHasUser">
        <column name="vocabulary_id" type="INTEGER" required="true" primaryKey="true" default=""> </column>
        <column name="user_id" type="INTEGER" required="true" primaryKey="true" default=""> </column>
        <column name="is_maintainer_for" type="TINYINT"> </column>
        <column name="is_registrar_for" type="TINYINT"> </column>
        <foreign-key foreignTable="reg_user" onDelete="RESTRICT" onUpdate="RESTRICT">
            <reference local="user_id" foreign="id"/>
        </foreign-key>
        <foreign-key foreignTable="reg_vocabulary" onDelete="RESTRICT" onUpdate="RESTRICT">
            <reference local="vocabulary_id" foreign="id"/>
        </foreign-key>
    </table>


</database>
